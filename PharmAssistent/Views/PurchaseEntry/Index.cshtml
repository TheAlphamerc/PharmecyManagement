@model PharmAssistent.Models.PurchaseModel.Purchase

@{
    ViewBag.Title = "Index";
}



<link href="~/Content/CSS/square.css" rel="stylesheet" />
<link href="~/Content/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />
<script src="~/Content/CSS/icheck.min.js"></script>
<link href="~/Content/CSS/minimal.css" rel="stylesheet" />
<script src="~/Content/Scripts/angular.min.js"></script>
<script src="~/Content/Scripts/jQuery-2.1.3.min.js"></script>
<link href="~/Content/bootstrap.min.css" rel="stylesheet" />

<script>
        //$('#renderSupplierForm')
        //.html("Loading...")
        //.load('@Url.Action("_SupplierCreatePV", "Supplier")');

        //$('#addSupplier').on('click', function () {
        //    $.post('Supplier/Create', $('#FormAddSupplier').serialize(), function (data) {
        //        $('#modal_supplier').modal('toggle');
        //        if (data == 'duplicate') {

        //            alert("Duplicate data!");
        //        }
        //        else {
        //            populateSupplier();
        //            alert("Success");
        //        }

        //    }, "Json");
        //    return false;
        //});
</script>
<div class="modal " id="Modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" ng-app>
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="panel-body box box-info"  style="">
                <div class="" style="">
                      <div class="box-body" style="color: #605ca8;">
                            <div class="row">
                                <div class="col-md-4 " style="padding-left:0px"><h2 style="color:#555299;font-family: inherit; margin: 0px;"><strong>New</strong>Supplier</h2></div>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            </div><hr />
                             
                                    <div class="modal-body">
                                       <div class="form-group">
                                           <div class="control-label col-md-2">Supplier</div> 
                                             <div class="col-md-10">
                                               <input name="Name" type="text" id="Name" class="form-control" /><span class="error" style="visibility:hidden"> required</span>
                                             </div>
                                           </div>

                                        <div class="form-group">
                                            <div class="control-label col-md-2">Address</div>
                                            <div class="col-md-10">
                                                <input name="Address" type="text" id="Address" class="form-control" /><span class="error" style="visibility:hidden"> required</span>
                                            </div>
                                        </div>
                                        
                                        <div class="form-group">
                                            <div class="control-label col-md-2">Contact</div>
                                            <div class="col-md-10">
                                                <input name="Contact" type="text" id="Contact" class="form-control" /><span class="error" style="visibility:hidden"> required</span>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="control-label col-md-2">Description</div>
                                            <div class="col-md-10">
                                                <input name="Description" type="text" id="Description" class="form-control" /><span class="error" style="visibility:hidden"> required</span>
                                            </div>
                                        </div>
                                        <div style="margin-left: 100px;">
                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                            <button  class="btn btn-primary " data-dismiss="modal" id="btnAddSupplier" >Submit</button>
                                        </div>
                                        </div>

                                    <div class="modal-footer" style="margin-top:-500px">

                                    </div>
                             
                       </div>
                 </div>
            </div>
        </div>

    </div>
</div>
<div class="row alert">
    <div class="col-md-4 " style="padding-left:140px"><h2 style="color:#555299;font-family: inherit;"><strong>Purchase</strong>Item</h2></div>
</div>
 

<div class="panel-body" style="width: 1400px;margin-left:120px;">

    <div class="box box-primary box-body" style="color:#605ca8;font-size: large;font-family: -webkit-body;padding:20px">
        <div class="row ">
            <div class="col-md-4">
                <div class="row">
                    @*<div class="col-md-10">
                            Supplier<br />
                            <select id="SelectSupplier" class="form-control "></select>
                            <span  class="error"  style="visibility:hidden" > Required field !</span>
                        </div>*@
                    <div class="col-md-10">
                        Supplier<br />
                        <select id="SelectSupplier" class="form-control "></select>
                        <span class="error" style="visibility:hidden"> Required field !</span>
                    </div>
                    <div class="col-md-2 pull-left">
                        <br />
                        <button class="glyphicon glyphicon-plus" id="btn" data-toggle="modal" data-target="#Modal" style="padding:5px;"></button>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                PurchaseID<br />
                <input type="text" id="PurchaseID" class="form-control" name="ID" />
                <span class="error" style="visibility:hidden"> Required field !</span>
            </div>
            <div class="col-md-4">
                Date<br />
                <input type="text" id="InvocingDate" class="datepicker form-control datepicker checkDateNoGraterThanToday" name="Date" />
                <span class="error" style="visibility:hidden"> Required field !</span>
            </div>
            <script>
  $(function () {
      $(".datepicker").datepicker({
          format: 'yyyy-mm-dd'
      });
  });</script>
        </div>
        <hr />

        <div class="row">
            <div class="col-sm-4">
                @*<div class="row">
                        <div class="col-sm-4">Item</div>
                        <div  class="col-sm-8"><select name="Item" id="SelectItem" class="form-control"></select><span  class="error"  style="visibility:hidden"> Required field !</span></div>
                    </div>*@
                <div class="row">
                    <div class="col-sm-4">Item</div>
                    <div class="col-sm-8">
                        <select name="Item" id="SelectItem" class="form-control"></select><span class="error" style="visibility:hidden"> Required field !</span>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-4">Batch</div>
                    <div class="col-sm-8"><input name="Batch" type="text" id="Batch" class="form-control" /><span class="error" style="visibility:hidden"> Required field !</span></div>
                </div>
                <div class="row">
                    <div class="col-sm-4">Qty</div>
                    <div class="col-sm-8"><input name="Qty" type="number" id="Qty" class="form-control NumbersOnly CheckFirstCharIsZero" /><span class="error" style="visibility:hidden"> Required field !</span></div>
                </div>
                <div class="row">
                    <div class="col-sm-4">Cost Price</div>
                    <div class="col-sm-8"><input name="CostPrice" type="text" id="CP" class="form-control NumbersAndDecimal" /><span class="error" style="visibility:hidden"> Required field !</span></div>
                </div>
                <div class="row">
                    <div class="col-sm-4">Selling Price</div>
                    <div class="col-sm-8"><input name="SellingPrice" type="text" id="SP" class="form-control NumbersAndDecimal" /><span class="error" style="visibility:hidden"> Required field !</span></div>
                </div>

                <div class="row">
                    <div class="col-sm-4">Expiry</div>
                    <div class="col-sm-8"><input name="Expiry" type="text" id="Expiry" class="datepicker form-control datepicker checkDateNoLessThanToday" /><span class="error" style="visibility:hidden"> Required field !</span></div>
                </div>
                <div class="row">
                    <div class="col-sm-4"></div>
                    <div class="col-sm-8"><button type="button" id="btnAdd" class="btn btn-primary">Add to list</button></div>
                </div>
            </div>
            <div class="col-sm-8">
                <div style="background-color:#34495e; color:white; padding:10px">Purchase Items</div>

                <div id="orderItems" class="tablecontainer" style="height:260px; overflow-y:scroll; border:1px solid #BFAEAE">
                </div>
                <div>
                    <br />
                    <button style="padding: 5px 30px 5px 30px" type="button" class="btn btn-primary pull-right" id="btnNext" data-toggle="modal" data-target="#myModal">
                        Next <span class="glyphicon glyphicon-triangle-right"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

</div>


<div class="modal " id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" ng-app>
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div style="background-color:#c0392b; color:white;" class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Payment Status</h4>
            </div>
            <div class="modal-body">
                <table class="table table-striped">
                    <tr>
                        <td>Amount</td>
                        <td><input name="Amount" type="number" readonly ng-model="a" id="Amount" class="form-control" /><span class="error" style="visibility:hidden"> required</span></td>
                    </tr>
                    <tr>
                        <td>Discount</td>
                        <td><input name="Discount" type="number" ng-model="d" id="Discount" class="form-control NumbersAndDecimal" /> <span class="error" style="visibility:hidden"> Invalid</span></td>
                    </tr>
                    <tr>
                        <td>Tax</td>
                        <td><input name="Tax" type="number" ng-model="t" id="Tax" class="form-control NumbersAndDecimal" /><span class="error" style="visibility:hidden"> Invalid</span></td>
                    </tr>
                    <tr>
                        <td>GrandTotal</td>

                        <td><input name="GrandTotal" type="text" ng-bind="(a-d)+t" class="form-control" id="GrandTotal" readonly /><span class="error" style="visibility:hidden"> Invalid</span></td>
                    </tr>
                    <tr>
                        <td>Remarks(Notes)</td>
                        <td><textarea name="Description" style="width:100%" id="Description" class="textOnly"></textarea></td>
                    </tr>
                    <tr>
                        <td>Payment</td>
                        <td>
                            <label style="margin-left:5px;"><input type="radio" value="true" id="Payment" name="Ispaid" class="x" />&nbsp; Paid</label>
                            <label style="margin-left:5px;"><input type="radio" value="false" name="Ispaid" class="x" checked />&nbsp; Credit</label>
                        </td>

                    </tr>
                </table>
            </div>
            <div class="modal-footer" style="margin-top:-30px">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <input type="submit" class="btn btn-primary" id="btnSubmit" value="Submit" />
            </div>
        </div>
    </div>
</div>


<script type="text/javascript">


 

    $(document).ready(function () {               // ADD NEW SUPPLIER
        $("#btnAddSupplier").click(function () {
         var Supplier = {
                        Name:       $('#Name').val(),
                        Contact:    $("#Contact").val(),
                        Address:    $("#Address").val(),
                        Description: $("#Description").val()
         };
         $(this).val('Please wait...');
       
         $.ajax({
             type: 'POST',
             url: '@Url.Action("../Supplier/supplier")',
             data: JSON.stringify(Supplier),
             dataType: "JSON",
             contentType: "application/json",
            
         },

       function (data, status) {
                alert("Data: " + data + "\nStatus: " + status);
            });
           

        });
        PopulateSupplier();
         
    });
  
   
        function PopulateSupplier() {

            $.ajax({
                type: 'POST',
                url: '@Url.Action("PopulateSupplier")',
                dataType: 'json',
                success: function (data) {

                    $('#SelectSupplier').empty();
                    $('#SelectSupplier').append($("<option value='0'>------------Select Supplier-----------</option>"));
                    $.each(data, function (key, value) {
                        $('#SelectSupplier').append($("<option></option>").val(value.ID).html(value.Name));
                    });
                },
                error: function (ex) {
                    alert("Message: " + r.Message);
                    alert("StackTrace: " + r.StackTrace);
                    alert("ExceptionType: " + r.ExceptionType);
                }
            });
            return false;


        };
   

    $(document).ready(function () {
        //$("#ttn").click(function () {

        $.ajax({
            type: 'POST',
            url: '@Url.Action("PopulateSupplier")',
            dataType: 'json',
            success: function (data) {

                $('#SelectSupplier').empty();
                $('#SelectSupplier').append($("<option value='0'>------------Select Supplier-----------</option>"));
                $.each(data, function (key, value) {
                    $('#SelectSupplier').append($("<option></option>").val(value.ID).html(value.Name));
                });
            },
            error: function (ex) {
                //   var r = jQuery.parseJSON(response.responseText);
                alert("Message: " + r.Message);
                alert("StackTrace: " + r.StackTrace);
                alert("ExceptionType: " + r.ExceptionType);
            }
        });
        return false;

        //})
    });

  

    $(document).ready(function () {
        //$("#stn").click(function () {

        $.ajax({
            type: 'POST',
            url: '@Url.Action("PopulateItem")',
            dataType: 'json',
            success: function (data) {

                $('#SelectItem').empty();
                $('#SelectItem').append($("<option value='0'>----------------Select Item-------------------</option>"));
                $.each(data, function (key, value) {
                    $('#SelectItem').append($("<option></option>").val(value.ID).html(value.Name));
                });
            },

            error: function (ex) {
                var r = jQuery.parseJSON(response.responseText);
                alert("Message: " + r.Message);
                alert("StackTrace: " + r.StackTrace);
                alert("ExceptionType: " + r.ExceptionType);
            }
        });
        return false;

        //})
    });


    //Compare Selling price and cost price ...

    $('#SP').on('blur', function () {
        var cp = Number($('#CP').val());
        var sp = Number($('#SP').val());

        if (sp <= cp) {
            alert('Selling Price cannot be lesser or equal to Cost Price');
            $('#SP').val('');
        }
    });


    //check date


    $(document).on('ready', function () {

        //for calculating amount automatically
        $('#btnNext').on('click', function () {
            var subTotal = 0;
            var total = 0;
            $('#Amount').val('');
            //   $('#Discount').val('');
            //   $('#Tax').val('');
            $('#GrandTotal').val('');
            $('#mytable tr').each(function () {
                var qty = $.trim($(this).find(".tdQty").html());
                var cp = $.trim($(this).find(".tdCp").html());
                total = Number(qty) * Number(cp);
                subTotal += total;
            });

            document.getElementById("Amount").value = subTotal;
            $('#Amount').val(subTotal);
            $('#GrandTotal').val(subTotal);
        });

        //   //for auto calculate grandtotal with discount
        $('#Discount, #Tax').keyup(function () {
            var amount = Number($('#Amount').val());
            var discount = Number($('#Discount').val());
            var tax = Number($('#Tax').val());

            if (amount == null && discount == null) {
                $('#GrandTotal').val(amount);
            }

            var grandTotal = (amount - discount + tax).toFixed(2);
            $('#GrandTotal').val(grandTotal);

        });

        // //for icheckbox
        $('.x').iCheck({
            checkboxClass: 'icheckbox_minimal',
            radioClass: 'iradio_minimal',
            increaseArea: '20%' // optional
        });


        //  //populating supplier dropdown
        populateSupplier();


        //   //populating Items dropdown
        $.get('/PurchaseEntry/PopulateItem', {}, function (data) {
            $('#SelectItem').empty();
            $('#SelectItem').append($("<option value='0'>--Select Items--</option>"))
            $.each(data, function (key, value) {
                $('#SelectItem').append($('<option></option>').val(value.ID).html(value.Name));
            });
        }, 'json');

        //datepicker
        $(function () {
            $(".datepicker").datepicker({
                format: 'yyyy-mm-dd'
            });
        });
    });

    var purchaseItems = [];
    $('#btnAdd').on('click', function () {

        //     //jQuery Validations
        var isValidation = true;
        if ($('#SelectSupplier').val() == "0") {
            isValidation = false;
            $('#SelectSupplier').siblings('span.error').css('visibility', 'visible');
        }
        else {
            $('#SelectSupplier').siblings('span.error').css('visibility', 'hidden');
        }

        if ($('#PurchaseID').val().trim() == '') {
            isValidation = false;
            $('#PurchaseID').siblings('span.error').css('visibility', 'visible');
        }
        else {
            $('#PurchaseID').siblings('span.error').css('visibility', 'hidden');
        }

        if ($('#InvocingDate').val() == '') {
            isValidation = false;
            $('#InvocingDate').siblings('span.error').css('visibility', 'visible');
        }
        else {
            $('#InvocingDate').siblings('span.error').css('visibility', 'hidden');
        }

        if ($('#SelectItem').val() == "0") {
            isValidation = false;
            $('#SelectItem').siblings('span.error').css('visibility', 'visible');
        }
        else {
            $('#SelectItem').siblings('span.error').css('visibility', 'hidden');
        }

        if ($('#Qty').val() == '') {
            isValidation = false;
            $('#Qty').siblings('span.error').css('visibility', 'visible');
        }
        else {
            $('#Qty').siblings('span.error').css('visibility', 'hidden');
        }

        if ($('#Batch').val() == "") {
            isValidation = false;
            $('#Batch').siblings('span.error').css('visibility', 'visible');
        }
        else {
            $('#Batch').siblings('span.error').css('visibility', 'hidden');
        }

        if ($('#CP').val() == '' || isNaN($('#CP').val().trim())) {
            isValidation = false;
            $('#CP').siblings('span.error').css('visibility', 'visible');
        }
        else {
            $('#CP').siblings('span.error').css('visibility', 'hidden');
        }

        if ($('#SP').val() == '' || isNaN($('#SP').val().trim())) {
            isValidation = false;
            $('#SP').siblings('span.error').css('visibility', 'visible');
        }
        else {
            $('#SP').siblings('span.error').css('visibility', 'hidden');
        }

        if ($('#Expiry').val() == '') {
            isValidation = false;
            $('#Expiry').siblings('span.error').css('visibility', 'visible');
        }
        else {
            $('#Expiry').siblings('span.error').css('visibility', 'hidden');
        }

        if (isValidation) {
            purchaseItems.push({
                ItemID: $('#SelectItem').val(),
                ItemName: $('#SelectItem option:selected').text(),
                Batch: $('#Batch').val(),
                Qty: $('#Qty').val(),
                CostPrice: $('#CP').val(),
                SellingPrice: $('#SP').val(),
                Expiry: $('#Expiry').val(),
                PurchaseID: $.trim($('#PurchaseID').val() + '--' + $('#SelectSupplier').val()),
                // PurchaseID: $('#PurchaseID').val() + ' / ' + $('#SelectSupplier').val(),
                BonusIncluded: 0
            });

            $('#SelectItem').val('0').focus();
            $('#Batch, #Qty, #CP, #SP, #Expiry').val('');
        }
        GeneratedItemsTable();
    });

    $('#btnSubmit').on('click', function () {


        var isAllValid = true;


        if (purchaseItems.length == 0) {
            isAllValid = false;
            alert('Please Add items to purchase!');
        }

        if ($('#SelectSupplier').val() == "0") {
            isAllValid = false;
            $('#SelectSupplier').siblings('span.error').css('visibility', 'visible');
        }
        else {
            $('#SelectSupplier').siblings('span.error').css('visibility', 'hidden');
        }

        if ($('#PurchaseID').val().trim() == '') {
            isAllValid = false;
            $('#PurchaseID').siblings('span.error').css('visibility', 'visible');
        }
        else {
            $('#PurchaseID').siblings('span.error').css('visibility', 'hidden');
        }

        if ($('#InvocingDate').val() == '') {
            isAllValid = false;
            $('#InvocingDate').siblings('span.error').css('visibility', 'visible');
        }
        else {
            $('#InvocingDate').siblings('span.error').css('visibility', 'hidden');
        }
        if ($('#Amount').val() == '' || isNaN($('#Amount').val())) {
            isAllValid = false;
            $('#Amount').siblings('span.error').css('visibility', 'visible');
        }
        else {
            $('#Amount').siblings('span.error').css('visibility', 'hidden');
        }

        if (isNaN($('#Discount').val())) {
            $('#Discount').siblings('span.error').css('visibility', 'visible');
        }
        if (isNaN($('#Tax').val())) {
            $('#Tax').siblings('span.error').css('visibility', 'visible');
        }

        if (isAllValid) {
            var data = {
                //    ID: $.trim($('#PurchaseID').val() + '--' + $('#SelectSupplier').val()),
                ID: $('#PurchaseID').val(),
                PurchaseID: $.trim($('#PurchaseID').val() + '--' + $('#SelectSupplier').val()),
                Date: $('#InvocingDate').val().trim(),
                SupplierID: $('#SelectSupplier').val(),
                Amount: $('#Amount').val(),
                Discount: $('#Discount').val(),
                Tax: $('#Tax').val(),
                GrandTotal: $('#GrandTotal').val(),
                IsPaid: $('#Payment').is(":checked") ? 1 : 0,
                Description: $('#Description').val(),
                PurchaseItems: purchaseItems
            }



            $(this).val('Please wait...');


            //    post data to server
            $.ajax({

                url: 'SavePurchase',
                type: "POST",
                data: JSON.stringify(data),
                dataType: "JSON",
                contentType: "application/json",
                success: function (d) {
                    //check is successfully save to database
                    if (d.status == true) {
                        //will send status from server side
                        alert('Successfully done.');
                        location.reload(true);
                        //clear form
                        purchaseItems = [];
                        $('#PurchaseID').val('');
                        $('#InvocingDate').val('');
                        $('#SelectSupplier').val('0');

                    }
                    else {
                        alert('Failed');
                    }
                    $('#submit').val('Save');
                },
                error: function () {
                    alert("Error");
                    //   alert(d.status+'Error. Please try again.');
                    $('#btnSubmit').val('Save');
                }
            });
        }
    });

    function GeneratedItemsTable() {
        if (purchaseItems.length > 0) {
            var $table = $('<table id="mytable" class="table table-striped table-hover"/>');
            $table.append('<thead><tr style="background-color:rgb(201, 211, 218);"><th>Item</th><th>Batch</th><th>Qty</th><th>CP</th><th>SP</th><th>Expiry</th><th>Delete</th></tr></thead>');
            var $tbody = $('<tbody/>');

            // var $table = $('.tableList');
            // var $tbody = $('<tbody/>');

            $.each(purchaseItems, function (i, val) {
                var $row = $('<tr/>');
                //$row.append($('<td/>').html(val.ItemID));
                $row.append($('<td/>').html(val.ItemName));
                $row.append($('<td/>').html(val.Batch));
                $row.append($('<td class="tdQty"/>').html(val.Qty));
                $row.append($('<td class="tdCp"/>').html(val.CostPrice));
                $row.append($('<td/>').html(val.SellingPrice));
                $row.append($('<td/>').html(val.Expiry));
                $row.append($('<td/>').html('<a href=# onclick="removeItem(this)" ><span class="glyphicon glyphicon-trash"></span></a>'));
                $tbody.append($row);
            });
            $table.append($tbody);
            $('#orderItems').html($table);
        }
        else {
            alert("List is empty !");
        }
    }

    //removes record on clicking remove icon and associated array
    function removeItem(obj) {
        var $index = $(obj).parent().parent()[0].sectionRowIndex;
        alert($index);
        purchaseItems.splice($index, 1);
        $(obj).parent().parent().remove();
        GeneratedItemsTable();


    }

</script>

@*<div class="panel-body" style="">
        <div class="col-md-10">

            <div class="box box-info" style="margin-left: 50px;margin-top:5px;">
                <div class="box-header">
                    @using (Html.BeginForm())
                {
                        @Html.AntiForgeryToken()
                        <div class="box-body">
                            <div class="form-horizontal">
                                <h4>Purchase</h4>
                                <hr />
                                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                <div class="col-md-6">

                                    @Html.LabelFor(model => model.ID, htmlAttributes: new { @class = "control-label " })
                                    @Html.EditorFor(model => model.ID, new { htmlAttributes = new { @class = "form-control " } })
                                    @Html.ValidationMessageFor(model => model.ID, "", new { @class = "text-danger" })


                                    @Html.LabelFor(model => model.SupplierID, htmlAttributes: new { @class = "control-label " })
                                    @Html.EditorFor(model => model.SupplierID, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.SupplierID, "", new { @class = "text-danger" })

                                    @Html.LabelFor(model => model.PurchaseDate, htmlAttributes: new { @class = "control-label " })
                                    @Html.EditorFor(model => model.PurchaseDate, new { htmlAttributes = new { @class = "form-control datepicker" } })
                                    @Html.ValidationMessageFor(model => model.PurchaseDate, "", new { @class = "text-danger" })

                                    @Html.LabelFor(model => model.ItemID, htmlAttributes: new { @class = "control-label " })
                                    @Html.EditorFor(model => model.ItemID, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.ItemID, "", new { @class = "text-danger" })






                                    @Html.LabelFor(model => model.Batch, htmlAttributes: new { @class = "control-label" })
                                    @Html.EditorFor(model => model.Batch, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.Batch, "", new { @class = "text-danger" })



                                    @Html.LabelFor(model => model.Qty, htmlAttributes: new { @class = "control-label " })
                                    @Html.EditorFor(model => model.Qty, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.Qty, "", new { @class = "text-danger" })




                                    @Html.LabelFor(model => model.CostPrice, htmlAttributes: new { @class = "control-label " })
                                    @Html.EditorFor(model => model.CostPrice, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.CostPrice, "", new { @class = "text-danger" })

                                    @Html.LabelFor(model => model.SellingPrice, htmlAttributes: new { @class = "control-label " })
                                    @Html.EditorFor(model => model.SellingPrice, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.SellingPrice, "", new { @class = "text-danger" })


                                </div>
                                <div class="col-md-6">




                                    @Html.LabelFor(model => model.Amount, htmlAttributes: new { @class = "control-label " })
                                    @Html.EditorFor(model => model.Amount, new { htmlAttributes = new { @class = "form-control" } })


                                    @Html.LabelFor(model => model.Expiry, htmlAttributes: new { @class = "control-label " })
                                    @Html.EditorFor(model => model.Expiry, new { htmlAttributes = new { @class = "form-control datepicker" } })
                                    @Html.LabelFor(model => model.Discount, htmlAttributes: new { @class = "control-label " })




                                    @Html.EditorFor(model => model.Discount, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.Discount, "", new { @class = "text-danger" })



                                    @Html.LabelFor(model => model.Tax, htmlAttributes: new { @class = "control-label " })
                                    @Html.EditorFor(model => model.Tax, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.Tax, "", new { @class = "text-danger" })


                                    @Html.LabelFor(model => model.GrandTotal, htmlAttributes: new { @class = "control-label" })
                                    @Html.EditorFor(model => model.GrandTotal, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.GrandTotal, "", new { @class = "text-danger" })





                                    @Html.LabelFor(model => model.IsPaid, htmlAttributes: new { @class = "control-label" })
                                    @Html.EditorFor(model => model.IsPaid, new { htmlAttributes = new { @class = "form-control" } })




                                    @Html.LabelFor(model => model.Description, htmlAttributes: new { @class = "control-label " })
                                    @Html.EditorFor(model => model.Description, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.Description, "", new { @class = "text-danger" })


                                    <input type="submit" value="Create" class="btn btn-info form-control" style="margin-top: 25px;" />

                                </div>
                            </div>
                        </div>
                    }
                </div>
           </div>

    </div>
    </div>*@

<script>
    $(function () {
        $(".datepicker").datepicker({
            format: 'yyyy-mm-dd'
        });
    });</script>


<script src="~/Content/Scripts/bootstrap.min.js"></script>
<script src="~/Content/Scripts/jquery-2.1.4.min.js"></script>
@*<script src="~/Content/Scripts/app.js"></script>*@
<script src="~/Content/Scripts/jquery.sparkline.min.js"></script>

<script src="~/Content/Scripts/jquery-jvectormap-world-mill-en.js"></script>
<script src="~/Content/Scripts/jquery-jvectormap-1.2.2.min.js"></script>
<script src="~/Content/Scripts/daterangepicker.js"></script>
<script src="~/Content/Scripts/bootstrap-timepicker.js"></script>
<script src="~/Content/Scripts/bootstrap-datepicker.js"></script>
<script src="~/Content/Scripts/jquery.slimscroll.min.js"></script>
<script src="~/Content/Scripts/my.js"></script>




@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
